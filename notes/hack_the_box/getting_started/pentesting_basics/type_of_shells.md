| Type of Shell   | Method of Communication                                                                                                     |
| --------------- | --------------------------------------------------------------------------------------------------------------------------- |
| `Reverse Shell` | Connects back to our system and gives us control through a reverse connection.                                              |
| `Bind Shell`    | Waits for us to connect to it and gives us control once we do.                                                              |
| `Web Shell`     | Communicates through a web server, accepts our commands through HTTP parameters, executes them, and prints back the output. |
## Reverse Shell
### Netcat Listeners
Start a netcat listener in any port
	- `nc -lvpn 1234`, `-l` listen mode, `-v` verbose mode, `-n` disable DNS resolution, `-p` specify the port
### Connect Back IP
Take note of our Ip address
> Note: We are connecting to the IP in 'tun0' because we can only connect to HackTheBox boxes through the VPN connection, as they do not have internet connection, and therefore cannot connect to us over the internet using `eth0`. In a real pentest, you may be directly connected to the same network, or performing an external penetration test, so you may connect through the `eth0` adapter or similar.
### Reverse Shell Command
It depends of the system to be compromised [Cheat Sheet](https://swisskyrepo.github.io/InternalAllTheThings/cheatsheets/shell-reverse-cheatsheet/), once the script or command is executed we shall check the netcat listener

**Advantages**: Fast to do
**Disadvantages:** Fragile connection

## Bind Shell
We will have to connect to it on the targets listening port
### Bind Shell Command
> Note: we will start a listening connection on port '1234' on the remote host, with IP '0.0.0.0' so that we can connect to it from anywhere.

### Netcat Connection
After running the bind shell command we will have a port waiting for us to connect so we can use netcat to stablish that connection `nc <ip> <port>` 
**Note**: we can regain connection immediately loosed the first one, but if the system is rebooted we will have to re-exploit

## Web Shell
Web script that accepts our command through HTTP request parameters
### Writing a Web Shell
Typically one liner and easily to memorize
### Uploading a Web Shell
Use a file upload item to sent the shell file
**Default web roots**:

|Web Server|Default Webroot|
|---|---|
|`Apache`|/var/www/html/|
|`Nginx`|/usr/local/nginx/html/|
|`IIS`|c:\inetpub\wwwroot\|
|`XAMPP`|C:\xampp\htdocs\|
### Accessing Web Shell
We can use the browser or cURL to manage the webshell
**Advantages**:
- Firewall bypassing
- The persistence on the host
**Disadvantages**:
- Not to interactive 
- we can make an script to have a semi-interactive shell
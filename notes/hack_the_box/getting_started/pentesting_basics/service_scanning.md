## Nmap
**Basic Scan**: Over the 1000 most common ports `nmap <ip>`
	**Note**: If filtered could be a signal of firewall existence
	3389: Remote Desktop Services (Inferring Windows machine)
**Medium Scan**: 
	- `sC` reefer to the Nmap script that should be used to obtain more information
	- `sV` perform a version scan (fingerprinting services)
	- `-p-` specify we want to scan all 65,535 TCP ports
## Nmap Scripts
**Where are located Nmap scripts**: `locate scripts`
**Searching for an specific nmap, topic, etc.**: `locate scripts/<topic>`
**Syntax**: `nmap --script <script name> -p<port> <host>`
## Attacking Network Services
### Banner Grabbing
Useful technique to fingerprint a service 
**Options**:
- `nmap -sV --script=banner <target>`
- `nc -nv <ip> <port>
- `nmap -sV --script=banner -p<port> <network segment>`
### FTP
(21) 
After making an nmap enumeration we find a ftp service that has the anonymous connection enabled
- `ftp -p <ip>` for accessing to the service
**Commands**: 
- `cd`
- `ls`
- `get`
### SMB (Server Message Block)
Prevalent protocol on Windows that provide many vector for vertical and lateral movement
**Exploits**: Eternal Blue
**Nmap Scripts**: `smb-os-discovery.nse` this script interacts with the service to extract the os version
`nmap -A -p<port> <ip>` for an aggressive scan

### Shares
SMB allows users and Administrators to share folders and make them accessible remotely 
**Tools**: `smbclient`
- `-L` specifies we want to retrieve a list with the shares available
- `-N ` suppresses the password prompt
- `smbclient -N -L \\\\<IP>`: usage
- `smbclient \\\\<ip>\\<folder>`: accessing to an specific folder
- `smbclient -U <user> \\\\<ip>`: logging 
### SNMP
Provides information and statistics about a router or device.
- SNMP v.1-2c access controlled using plaintext community string
- SNMP v.3 encryption added
**Tools**:
- `snmpwalk -v 2c -c public 10.129.42.253 1.3.6.1.2.1.1.5.0` `snmpwalk -v 2c -c private  10.129.42.253 `
- `onesixtyone` could be used to brute force community strings names `onesixtyone -c dict.txt 10.129.42.254`